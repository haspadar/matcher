deptrac:
  paths:
    - ./src

  exclude_files:
    - '#.*\/tests\/.*#'

  layers:
    - name: Shared
      collectors:
        - type: classLike
          value: ^Matcher\\Shared\\

    - name: ReferenceDomain
      collectors:
        - type: classLike
          value: ^Matcher\\Reference\\Domain\\

    - name: PaymentDomain
      collectors:
        - type: classLike
          value: ^Matcher\\Payment\\Domain\\

  ruleset:
    Shared: []

    ReferenceDomain:
      - Shared

    PaymentDomain:
      - ReferenceDomain
      - Shared